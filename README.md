# Bits_Knight
2023年春学期 南京大学计算机科学与技术系《高级程序设计》课程大作业
# 项目汇报

## 项目框架

- 选用3种Qt已经构建好的基类
  - 游戏主控制
  - 窗口
  - 对话框
- view 显示
- scene管理场景中的对象
- Item场景中的对象，共同继承自subject类——后面会讲到

## 人物类

- 共性——重写QgraphicsItem基类中的虚函数
  - 我最常用到的两个函数
- 特性
  - 在玩家类的构造函数中设置了由此类接受键盘事件，事件截获 需要传到游戏主界面
  - 获取玩家位置

## 子弹类

- 两种构造函数，由不同角色发射
- 指针用于碰撞检测
- 玩家发射的子弹构造时锁定敌人——发射时遍历场景中的所有敌人，找到距离玩家最近的敌人将其设定为target，子弹发射后对target进行持续追踪

## 继承

对于以上提到的，需要作为具体对象在场景中呈现的类都有类似的继承关系

- 使用共同的方法
- 计时器中槽函数

## subject

- 统一储存智能指针，以及记录全局的金币
- 对于每一类指针都提供增加和移除指针两个方法
- 目的是实现自动管理
- 当QSharedPointer超出其作用域时，如果没有其他QSharedPointer对象引用它，它将删除它所持有的指针
- 在这个产生敌人的函数中，将敌人的指针存在ene1这个智能指针中



## 窗口类

实现游戏控制逻辑和窗口内容的展示/对游戏进行存档读档

## 对话框类

对话框窗口是一种顶级窗口，主要用于短期任务和与用户进行简短交流。故对于局内强化和商店界面选择对话框来实现于玩家的交互

## 致谢

最后我想特别感谢我的项目助教学长，每次我遇到很棘手的问题并且在网上多次搜索都找不到解决方案的时候，他总能一阵见血地指出我代码中存在的问题，指导我修改；除了本项目开发相关内容以外，他还给出了很多计算机专业学习方面的宝贵经验。在与他交流的过程中我收获匪浅。也感谢所有的老师教导


